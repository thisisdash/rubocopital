inherit_from: .rubocop-performance.yml

AllCops:
  TargetRubyVersion: 2.3
  Exclude:
    - db/migrate/*
    - db/seeds/*
    - db/schema.rb
    - db/seeds.rb
    - script/**/*
    - bin/**/*
    - vendor/**/*
    - test/**/*
    - features/**/*
    - Gemfile
    - Gemfile.lock
    - node_modules/**/*
    - app/channels/application_cable/*
    - config/environments/development.rb
    - config/spring.rb
    - config/application.rb
  DisplayCopNames: true
  DisplayStyleGuide: true

Layout/AlignHash:
  EnforcedHashRocketStyle: key
  # key - left alignment of keys
  #   'a' => 2
  #   'bb' => 3
  EnforcedColonStyle: key
  # key - left alignment of keys
  #   a: 0
  #   bb: 1
  EnforcedLastArgumentHashStyle: ignore_implicit
  # ignore_implicit - Ignore only implicit hashes.
  #   Accepts:
  #     function(a: 1,
  #       b: 2)
  #   Registers an offense for:
  #     function({a: 1,
  #       b: 2})

Layout/AlignParameters:
  EnforcedStyle: with_fixed_indentation
  # The `with_fixed_indentation` style aligns the following lines with one
  # level of indentation relative to the start of the line with the method call.
  #
  #     method_call(a,
  #       b)

Style/AndOr:
  EnforcedStyle: conditionals
  # `and` and `or` are banned only in conditionals (conditionals)

Style/BlockDelimiters:
  EnforcedStyle: line_count_based
  # The `line_count_based` style enforces braces around single line blocks and
  # do..end around multi-line blocks.
  Exclude:
  - spec/**/*

Style/ClassAndModuleChildren:
  EnforcedStyle: compact

Style/IdenticalConditionalBranches:
  Enabled: false
  # Redirect_to usage in conditionals

Style/FrozenStringLiteralComment:
  # Ensure default is followed
  Enabled: true

Style/ExpandPathArguments:
  Enabled: false

Style/NumericPredicate:
  Enabled: false
  # Use .positive? instead of > 0
  # Use .zero? instead of == 0
  # Use .nonzero? instead of != 0.

Style/GlobalVars:
  Enabled: true
  AllowedVariables: [$ASSET_MODE]
  # Do not introduce global variables. (used for cucumber custom_env)

Style/EachWithObject:
  Enabled: false

Style/UnpackFirst:
  Enabled: false

Rails/Date:
  EnforcedStyle: flexible
  # The value `flexible` allows usage of `Date.current`, `Date.yesterday`, etc
  # (but not `Date.today`) which are overridden by ActiveSupport to handle current
  # time zone.

Layout/EndAlignment:
  EnforcedStyleAlignWith: variable

Layout/HeredocArgumentClosingParenthesis:
  Enabled: true

Layout/IndentFirstParameter:
  Enabled: true
  EnforcedStyle: consistent

Layout/MultilineMethodCallIndentation:
  EnforcedStyle: indented

Layout/MultilineOperationIndentation:
  EnforcedStyle: indented

Style/TrivialAccessors:
  Enabled: true

Metrics/AbcSize:
  Enabled: false

Metrics/LineLength:
  Max: 120

Metrics/BlockLength:
  CountComments: false  # count full line comments?
  Max: 50
  Exclude:
    - spec/**/**.rb
    - config/routes.rb

Metrics/ClassLength:
  Enabled: false

Metrics/MethodLength:
  Max: 30
  Severity: warning

Metrics/ModuleLength:
  Enabled: false

Style/Documentation:
  Enabled: false

Rails:
  Enabled: true

Bundler/OrderedGems:
  TreatCommentsAsGroupSeparators: true

Rails/OutputSafety:
  Enabled: false
  # Prefer safe_join instead of html_save

Rails/HttpPositionalArguments:
  Enabled: false
  # prefer get(:new, params: {}) instead of get(:new, {})

Rails/SkipsModelValidations:
  Enabled: false

Rails/HasAndBelongsToMany:
  Enabled: false

# This cop checks that models subclass ApplicationRecord with Rails 5.0.
Rails/ApplicationRecord:
  Enabled: false

# This cop checks that models subclass ApplicationJob with Rails 5.0.
Rails/ApplicationJob:
  Enabled: false

Rails/BelongsTo:
  Enabled: true

Rails/IgnoredSkipActionFilterOption:
  Enabled: true

Rails/LinkToBlank:
  Enabled: true

Style/EmptyMethod:
  Enabled: false

Style/IpAddresses:
  Enabled: true

Style/ModuleFunction:
  Enabled: false

Style/MultilineMethodSignature:
  Enabled: true

Style/NegatedUnless:
  Enabled: true
  EnforcedStyle: both

Style/StringLiterals:
  Enabled: false

Style/StringLiteralsInInterpolation:
  Enabled: false

Lint/DisjunctiveAssignmentInConstructor:
  Enabled: true

Lint/HeredocMethodCallPosition:
  Enabled: true

Lint/SafeNavigationWithEmpty:
  Enabled: true

Lint/ToJSON:
  Enabled: true

Rails/UnknownEnv:
  Environments:
    - development
    - test
    - review
    - staging
    - acceptance
    - training
    - production

Rails/LexicallyScopedActionFilter:
  Enabled: false
